/* —— 右列宽度不变 —— */
.sidebar-col{ flex:0 0 25%; min-width:300px; max-width:380px; margin-left:auto; }

/* —— 强制隐藏任何目录卡（防止旧文件再渲染） —— */
.directory-card, .directory-float { display: none !important; }

/* —— 人物徽章，不再用大卡 —— */
.persona{ position: sticky; top: 90px; }
.persona-head{ display:flex; align-items:center; gap:14px; margin-bottom:8px; }
.persona .avatar{ width:72px; height:72px; border-radius:50%; object-fit:cover; border:3px solid var(--soft); }
.persona .name{ font-weight:700; font-size:16px; color:var(--ink-1); }
.persona .desc{ margin-top:4px; font-size:13px; color:var(--ink-3); line-height:1.55; }

/* 不规则紧密布局（masonry） */
.persona-badges{ column-count: 2; column-gap: 10px; margin-top: 10px; padding: 0; list-style: none; }
.chip{
  display:inline-block; width:100%; margin:0 0 10px;
  padding:10px 12px; border-radius:14px;
  border: 1px solid rgba(0,0,0,.06); background:#fff;
  box-shadow: 0 2px 8px rgba(0,0,0,.04);
  break-inside: avoid; /* 关键：列布局避免断裂 */
}
.chip a{ color:#2f6f80; text-decoration:none; font-weight:600; }
.chip a:hover{ text-decoration:underline; }
.chip.mute{ color:#6b7280; border-style:dashed; }
.chip--sm{ padding:6px 10px; font-size:13px; }
.chip--md{ padding:10px 12px; }
.chip--lg{ padding:14px 12px; font-size:15px; }

/* —— 书签式右侧文章轨道（保持露出 1/3） —— */
.bookmark-rail{ position: fixed; right: 0; top: 120px; height: 70vh; width: 320px; padding:14px 0; overflow:hidden; z-index:5; }
.bookmark-rail .bm-ul{ margin:0; padding:0; list-style:none; transition: transform .25s ease; will-change: transform; }
.bm-item{ height:56px; margin:2px 0; position:relative; }
.bm-link{ position:relative; display:block; height:100%; text-decoration:none; color:inherit; }
.bm-tab{
  position:absolute; top:0; right:0; width:22px; height:100%;
  background: rgba(47,111,128,.12);
  border-radius:12px 0 0 12px; border:1px solid rgba(47,111,128,.18);
  display:flex; align-items:center; justify-content:center;
  writing-mode: vertical-rl; text-orientation: mixed;
  font-size:12px; letter-spacing:.05em; color:#2f6f80; overflow:hidden; user-select:none;
}
.bm-panel{
  position:absolute; top:0; right:-260px; width:260px; height:100%;
  background:#fff; border:1px solid rgba(0,0,0,.06);
  border-radius:14px 0 0 14px; box-shadow:0 10px 30px rgba(0,0,0,.10);
  padding:10px 12px; display:flex; align-items:center; justify-content:space-between;
  transform: translateX(-86px); transition: transform .18s ease, box-shadow .18s ease; pointer-events:none;
}
.bm-title{ font-size:14px; font-weight:600; color:#1f2937; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:200px; }
.bm-date{ font-size:12px; color:#6b7280; margin-left:8px; }
.bm-item:hover .bm-panel{ transform: translateX(-260px); box-shadow:0 16px 40px rgba(31,107,123,.18); }

/* 小屏回落 */
@media (max-width: 992px){
  .bookmark-rail{ position: static; width:auto; height:auto; padding:0; margin:12px 0; }
  .bm-tab{ display:none; }
  .bm-panel{ position:relative; right:auto; width:100%; border-radius:14px; transform:none !important; pointer-events:auto; }
  .persona{ position: static; }
}
